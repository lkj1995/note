# 直流有刷(减速)电机

## 1)定时器滤波器作用

采集N次都是同样有效电平,才算是一次有效电平,如 采样频率 = 18MHZ, N = 6 , 1/18 (us) * 6 = 1/3 (us)

则采样是3MHZ区间,如果干扰大于3MHZ(即时间越短),在此区间内 (0,1/3) (us) ,因此可以过滤掉3MHZ以上的干扰.如果小于3MHZ则无法进行过滤了,需要将采样频率调低.

采样频率要为信号频率的2倍以上

## 2)重要参数

1.空载转速:无反向力矩的情况,该参数作最高转速的参考

2.空载电流:越好的电机,空载时该值越小

3.负载转速:

4.负载力矩:

5.负载电流:

6.堵转力矩:

7:减速比:是指没有减速齿轮时转速与有减速齿轮时转速之比

8.功率

## 3)驱动方法

1.H桥驱动

2.驱动Q1和Q4可正转,驱动Q3和Q2可反转

![img](file:///C:/Users/Administrator/Documents/My Knowledge/temp/8ef2f7dc-1785-4d55-a86c-34d3d3b7c8eb/128/index_files/8a4729e8-29ec-4634-9252-44e7389e68bc.png)

## 4)速度控制方法

1.PWM

设电机的速度为V，最大速度为Vmax

D(占空比) = T1/T*100%

V=Vmax*D ,改变占空比可实现调速

## 5)电流采样

\1. 用0.02R的采样电阻,对采样电阻的两边差分隔离放大

2.经过运算放大器,整合成1个输出,用到虚短和虚断方法

3.此时使用ADC即可测量

## 6)电压采样

也是类似的,用采样到的电压对某个电压值进行比较,如果大于,则进行保护

## 7)有刷直流电机原理

1.首先有两个不同极性的定子

2.有个碳刷包裹着换向器

3.换向器在供电后,因产生极性而进行运动

4.换向器就是多个圆弧组成的圆,然后碳刷是固定极性不动的,换向器在运动过程产生旋转,然后

## 8)有刷直流减速电机原理

和有刷直流电机一样,只是多了减速齿轮箱,用于降低速度,增大力矩

# 无刷直流电机

## 1)重要参数

1.Ua——电机定子绕组的实际电压大小

\2. Ia——电机绕组内通过的实际电流大小

3.Ra——电路系统中包含电机的回路电阻大小

4.CE——电势系数

5.ϕ——励磁磁通

## 2)温度采样

1.NTC热敏电阻

2.公式 Rt=R25 exp[B(1/T-1/T25)]

**Rt**     温度T的电阻值

T     温度T

**R25**   25°时候的电阻值

T25   温度25°

**exp(x)** e^x

**B**     热敏电阻常数

### 测量方法

#### 1.位置环 用编码器的变化量,速度过低时候,要删除此环

实际计算方法

计数器的值 + 溢出次数 * 转一圈的脉冲数 + 计数器当前值

#### 2.电流环 采样电阻采样,如果采样率够高,则不需要微分

#### 3.速度环(编码器或者霍尔传感器)

##### M法：  

n（转速 r/s）= M0（编码器单位时间内的脉冲数） / （T0（单位时间）* C（单圈的脉冲数））

即 单位时间内的脉冲数 / 单圈的脉冲数  

 推导方法：

​         M0 / T0 = 1秒的总脉冲数 M1

​         M1 / C = 1秒转过多少圈（转速）

##### T法： 

n（转速 r/s）= F1（测量的脉冲频率） / （ C（单圈的脉冲数） *  M2（测量的脉冲数）） = 1 / C * TE（编码器两个脉冲之间的时间）

推导方法 ： 

​         1 / F1 = T1（周期）， T1 * M2 = TE 

​         TE * C = T2 （编码器转一圈所用的时间）

​         1秒  / T2  （即1秒内转过多少圈 （转速） ）  T2的时间越大，测量到的高频脉冲数越多，转速越慢

##### 实际转速方法

先知道定时器的时钟频率（假设为84MHZ），选择分频值（假设为1680），然后得到实际的时钟频率，最后 (1/f） * ARR(重装载值) 

得出了定时器多久触发一次中断

物理的分辨率 * 倍频数 = 转一圈的脉冲数 

（ 计数器的溢出次数 * ARR的最大值 + 计数器当前计数值 ） / 转一圈的脉冲数 = 转了多少圈

  